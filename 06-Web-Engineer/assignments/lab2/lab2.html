<!DOCTYPE html>

<html>

    <head>
        <title></title>
        <style>
            
            
           .errorBackground {
                background-color: lightpink;
                text-size-adjust: 30px;
            }

            .successBackground {
                background-color: lightgray;
                text-size-adjust: 30px;
            }

            #wordCount {
                display: inline;
                font-weight: bold;
            }
            #statusMessage{
                font-size: 25px;
            }

        </style>
        <script>

        // >> Broswer finishing loading the website<<
        window.addEventListener("load", start);
        var textarea;

        // >> START IS MAIN  <<
        function start() {
            var submitbutton = document.getElementById("submitbutton");
           
            submitbutton.addEventListener("click", formSubmitted);
            textarea =document.getElementById("message");
            textarea.addEventListener("keypress", messageKeyTyped);
        }


        function messageKeyTyped(){
            var currentText= textarea.value;

            //Use split(“ “) on currentText to split into tokens…

            var tokens = currentText.split(" ");
            var actualWords = [];
    
            for (var i = 0; i < tokens.length; i++) {
                if (tokens[i] !== "") {
                    actualWords[actualWords.length] = tokens[i]; // equivalent to .push()
                }
            }
        
            var wordsLeft = 25 - actualWords.length;
        
            var wordCount = document.getElementById("wordCount");
            if (wordsLeft >= 0) {
                wordCount.textContent = wordsLeft;
            } else {
                wordCount.textContent = 0;
            }



            
            //#### CHAT GPT HELPED HERE 

            if (actualWords.length < 25) {
                // Less than 25 words — allow any key
                // Nothing to block, so do nothing
            }
            else if (
                event.key === "Backspace" ||
                event.key === "Delete" ||
                event.key === "ArrowLeft" ||
                event.key === "ArrowRight"
            ) {
                // Word limit reached but the user is trying to edit or move the cursor — allow it
            }
            else {
                // Word limit reached and user is trying to type more — block it
                event.preventDefault();
            }

            //#### CHAT GPT HELP ENDED HERE





        }

        // >> formSubmitted gets in the start funcation gets the username value
        // >> then print it out to the console.
        // >> 
        function formSubmitted() {
            var name = document.getElementById("Username").value;
            var password = document.getElementById("Password").value;
            var studentid = document.getElementById("StudentID").value;
            var semester = document.getElementById("semester").value;
            var year = document.getElementById("year").value;
            var message = document.getElementById("message").value;
            var wordCount = document.getElementById("wordCount").value;

            checking(name, password, studentid, semester, year);

            // testing the add and remove 

            let hasError = checking(name, password, studentid, semester, year, message, wordCount);

                // God please work
                var formContainer = document.getElementById("formContainer");
                var statusMessage = document.getElementById("statusMessage");
                
                if (hasError) {
                    formContainer.classList.add("errorBackground");
                    formContainer.classList.remove("successBackground");
                    statusMessage.textContent = "Form submission failed. Please fix the errors.";
                    statusMessage.style.color = "red";
                } else {
                    formContainer.classList.add("successBackground");
                    formContainer.classList.remove("errorBackground");
                    statusMessage.textContent = "Form submitted successfully!";
                    statusMessage.style.color = "green";

                }

           // DisplayOutput(name, password, studentid, semester, year);




        } //end of main function

        //=====================Functions below============================// 

        function checking(name, password, studentid, semester, year, message, wordCount) {

            let hasError = false; //testing change color 
            //## checker for empty or null text box##
            var inputCheckUsername;
            var inputCheckUsernameCorrect;
            
            //#####uppercase#####
            var checkArrayName;
            var list;
            var i;
            var j;
            var check;
            var upperCase;
            var error;
            var result;
            var value;
            // #### Username Check ####
            
            if (name === "" || name === "null") {
                inputCheckUsername1 = document.getElementById("inputCheckUsername1");
                inputCheckUsername1.textContent = "Please enter a valid Username.";
                inputCheckUsername1.style.color = "red";
                //Good
                inputCheckUsername2 = document.getElementById("inputCheckUsername2");
                inputCheckUsername2.textContent = "";
                error = document.getElementById("error");
                error.innerHTML = "";

                hasError = true; //dont move testing 

                correctOutput = document.getElementById("correctOutput");
                correctOutput.textContent = "";
            }else if (name.length <= 1){
                console.log(name.length);
                inputCheckUsername2 = document.getElementById("inputCheckUsername2");
                inputCheckUsername2.textContent = "Not valid Username must be a minimum 2 letters long and lower case.";
                inputCheckUsername2.style.color = "red";

                inputCheckUsername1 = document.getElementById("inputCheckUsername1");
                inputCheckUsername1.textContent = "";

                hasError = true; 
                error = document.getElementById("error");
                error.innerHTML = "";



                correctOutput = document.getElementById("correctOutput");
                correctOutput.textContent = "";
            }else{

                UpperCase(name);
                


            }


            
            //### Above works dont touch ###

             
            // #### Password Check ####
            if (password.length < 10) {
                var inputCheckPasswordLength = document.getElementById("inputCheckPasswordLength");
                
                UpperCasePassword(password);
                LowerCase(password);
                checkDigit(password);

                


                inputCheckPasswordLength.textContent = "Please enter a valid password legth minimum of ten charaters.";
                inputCheckPasswordLength.style.color = "red";
                hasError = true; 
            }else{
                inputCheckPasswordLength = document.getElementById("inputCheckPasswordLength");
                inputCheckPasswordLength.textContent = "";
                UpperCasePassword(password);
                LowerCase(password);
                checkDigit(password);

            }

            

            //##Stduent ID checking?
            if (studentid.length < 8 || studentid === "" || studentid === "e") {
                var inputCheckStudentid = document.getElementById("inputCheckStudentid");
                inputCheckStudentid.textContent = "Please enter a valid StudentID, it must be 9 digits long"
                inputCheckStudentid.style.color = "red"
                var inputCheckStudentid = document.getElementById("inputCheckStudentid");
                correctStudentID.innerHTML = "";
                hasError = true; 
                
                
            } else {
                var inputCheckStudentid = document.getElementById("inputCheckStudentid");
                inputCheckStudentid.textContent = ""
                checkDigitstudentID(studentid);
            }


            function checkDigitstudentID(value) {
                var check = value;
                var numberCheck;
                var k;
                var correctStudentID = document.getElementById("correctStudentID");
                correctStudentID.style.color = "green";
                var studentidError = document.getElementById("studentidError");
                studentidError.style.color = "red";
                var hasError = true;

                


            list = "0123456789";
            numberFound = false;

            for (i = 0; i < check.length; i++) {
                currentValue = check.charAt(i);

                for (j = 0; j < list.length; j++) {

                    if (currentValue === list.charAt(j)) {
                        numberFound = true;
                       
                        break;
                    }
                }
                
                if (numberFound) {
                    
                    break;
                }
            }
            
            if(numberFound == true) {
                var inputCheckStudentid = document.getElementById("inputCheckStudentid");
                inputCheckStudentid.textContent = "";
                correctStudentID.innerHTML = "Student ID has a nine numbers."
                studentidError.textContent = "";
                hasError = false; 
                return hasError;


            } else {
                studentidError.textContent = "Error password must contain a number.";
                correctStudentID.innerHTML = "";

                hasError = true; 
                return hasError;
            }
                

                
                
            }// end of check digit password

            function checkDigit(value) {
                var check = value;
                var numberCheck;
                var k;
                var numbercorrect = document.getElementById("numbercorrect");
                numbercorrect.style.color = "green";
                var numberError = document.getElementById("numberError");
                numberError.style.color = "red";
                var hasError = true;
                


            list = "0123456789";
            numberFound = false;

            for (i = 0; i < check.length; i++) {
                currentValue = check.charAt(i);

                for (j = 0; j < list.length; j++) {

                    if (currentValue === list.charAt(j)) {
                        numberFound = true;
                       
                        break;
                    }
                }
                
                if (numberFound) {
                    
                    break;
                }
            }
            
            if(numberFound == true) {
                numbercorrect.innerHTML = "Password has a number."
                numberError.textContent = "";
                hasError = false;
                return hasError;


            } else {
                numberError.textContent = "Error password must contain a number.";
                numbercorrect.innerHTML = "";
                hasError = true;
                return hasError;
            }
                

                
                
            }// end of check digit





            if (semester === "" || semester === "null") {        
                var inputCheckSemester = document.getElementById("inputCheckSemester");
                inputCheckSemester.textContent = "Please enter a valid semester term. Example: Fall, Spring, Winter, and Summer.";
                inputCheckSemester.style.color = "red";

                var errorSemester = document.getElementById("errorSemester");
                errorSemester.textContent = "";


                var correctSemester = document.getElementById("correctSemester");
                correctSemester.textContent = ""
                hasError = true;
                

            }else{
                if (semester === "Fall"){
                    var correctSemester = document.getElementById("correctSemester");
                    correctSemester.textContent = "The Semester term that was entered is correct."
                    correctSemester.style.color = "green";
                    hasError = false;

                    var errorSemester = document.getElementById("errorSemester");
                    errorSemester.textContent = "";

                    var inputCheckSemester = document.getElementById("inputCheckSemester");
                    inputCheckSemester.textContent = "";

                }else if (semester === "Spring"){
                    var correctSemester = document.getElementById("correctSemester");
                    correctSemester.textContent = "The Semester term that was entered is correct."
                    correctSemester.style.color = "green";
                    hasError = false;
                    var errorSemester = document.getElementById("errorSemester");
                    errorSemester.textContent = "";

                    var inputCheckSemester = document.getElementById("inputCheckSemester");
                    inputCheckSemester.textContent = "";

                }else if (semester === "Summer"){
                    var correctSemester = document.getElementById("correctSemester");
                    correctSemester.textContent = "The Semester term that was entered is correct."
                    correctSemester.style.color = "green";
                    hasError = false;
                    var errorSemester = document.getElementById("errorSemester");
                    errorSemester.textContent = "";

                    var inputCheckSemester = document.getElementById("inputCheckSemester");
                    inputCheckSemester.textContent = "";

                }else{
                    var errorSemester = document.getElementById("errorSemester");
                    errorSemester.textContent = "The semester term you entered was incorrect please enter a correct semester term. Example: Fall , Spring, or Summer";
                    errorSemester.style.color = "red";
    
                    var correctSemester = document.getElementById("correctSemester");
                    correctSemester.textContent = "";

                    var inputCheckSemester = document.getElementById("inputCheckSemester");
                    inputCheckSemester.textContent = "";
                     hasError = true;
                }
            }

            if (year === "" || year === "null") {
                var inputCheckYear = document.getElementById("inputCheckYear");
                inputCheckYear.textContent = "Please enter a valid year, Example: 2002"
                inputCheckYear.style.color = "red"
                 hasError = true;
                var correctYear = document.getElementById("correctYear");
                correctYear.innerHTML = "";
                var errorYear = document.getElementById("errorYear");
                errorYear.textContent = "";
            }else{

                checkDigityear(year);
            }




            return hasError;

        
        }// end of checking




        function checkDigityear(value) {
                var check = value;
                var numberCheck;
                var k;
                var correctYear = document.getElementById("correctYear");
                correctYear.style.color = "green";
                var errorYear = document.getElementById("errorYear");
                errorYear.style.color = "red";
                var inputCheckYear = document.getElementById("inputCheckYear");
                inputCheckYear.textContent = "Please enter a valid year, Example: 2002"
                inputCheckYear.style.color = "red"
                var  hasError = false;
                


            list = "0123456789";
            numberFound = false;

            for (i = 0; i < check.length; i++) {
                currentValue = check.charAt(i);

                for (j = 0; j < list.length; j++) {

                    if (currentValue === list.charAt(j)) {
                        numberFound = true;
                       
                        break;
                    }
                }
                
                if (numberFound) {
                    
                    break;
                }
            }
            
            if(numberFound == true) {
                correctYear.innerHTML = "You have entered a valid year."
                errorYear.textContent = "";
                inputCheckYear.textContent = "";
                hasError = false;
                return hasError;


            } else {
                errorYear.textContent = "Error not a numbered year. Example: 2002";
                correctYear.innerHTML = "";
                inputCheckYear.textContent = "";
                 hasError = true;
                 return hasError;
            }
                

                
                
            }// end of check digit year



        function UpperCase(value) {
            var upperCase;
            var result;
            check = value;
            list = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            upperCase = false;
            var  hasError = false;

            for (i = 0; i < check.length; i++) {
                currentValue = check.charAt(i);

                for (j = 0; j < list.length; j++) {

                    if (currentValue === list.charAt(j)) {
                        upperCase = true;
                       
                        break;
                    }
                }
                
                if (upperCase) {
                    
                    break;
                }
            }
            
            if(upperCase == true) {
                error = document.getElementById("error");
                error.style.color = "red";
                error.innerHTML = "Error dont use capital letters.";
                correctOutput = document.getElementById("correctOutput");
                correctOutput.textContent = "";
                inputCheckUsername1 = document.getElementById("inputCheckUsername1");
                inputCheckUsername1.textContent = "";
                hasError = true;
                inputCheckUsername2 = document.getElementById("inputCheckUsername2");
                inputCheckUsername2.textContent = "";


            } else {
                correctOutput = document.getElementById("correctOutput");
                correctOutput.textContent = "Valid Username.";
                correctOutput.style.color = "green";
                error = document.getElementById("error");
                error.innerHTML = "";
                hasError = false;
                inputCheckUsername1 = document.getElementById("inputCheckUsername1");
                inputCheckUsername1.textContent = "";

                inputCheckUsername2 = document.getElementById("inputCheckUsername2");
                inputCheckUsername2.textContent = "";
            }
            
        } // end of uppercase
        

        function UpperCasePassword(value) {
            var upperCase;
            var result;
            var LowerCase;
            check = value;
            list = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            upperCase = false;
            var  hasError = false;


            for (i = 0; i < check.length; i++) {
                currentValue = check.charAt(i);

                for (j = 0; j < list.length; j++) {

                    if (currentValue === list.charAt(j)) {
                        upperCase = true;
                       
                        break;
                    }
                }
                
                if (upperCase) {
                    
                    break;
                }
            }
            
            if(upperCase == true) {
                //output text
                //GOOD 
                
                var uppercorrect = document.getElementById("uppercorrect");
                uppercorrect.textContent = "Password has a Uppercase letter.";
                uppercorrect.style.color = "green";
                hasError = true;

                var upperError = document.getElementById("upperError");
                upperError.textContent = "";


            } else {
                //output text
                //bad
                var upperError = document.getElementById("upperError");
                upperError.textContent = "Error Need to add a Uppercase letter to your password.";
                upperError.style.color = "red";
                hasError = false;




                uppercorrect = document.getElementById("uppercorrect");
                uppercorrect.textContent = "";
            }
            } // end of UpperCasePassword validation

        function LowerCase(value){
            var lowerCase;
            var result;
            check = value;
            list = "abcdefghijklmnopqrstuvwxyz";
            lowerCase = false;
            var hasError = false;

            for (i = 0; i < check.length; i++) {
                currentValue = check.charAt(i);

                for (j = 0; j < list.length; j++) {

                    if (currentValue === list.charAt(j)) {
                        lowerCase = true;
                       
                        break;
                    }
                }
                
                if (lowerCase) {
                    
                    break;
                }
            }
            
            if(lowerCase == true) {
                //output text
                //GOOD
                var lowerError = document.getElementById("lowerError"); 
                var lowercorrect = document.getElementById("lowercorrect");
                lowercorrect.textContent = "Password has a lowercase letter.";
                lowercorrect.style.color = "green";
                lowerError.textContent = "";
                hasError = false;


            } else {
                //output text
                //bad
                var lowerError = document.getElementById("lowerError");
                var lowercorrect = document.getElementById("lowercorrect");
                lowerError.textContent = "Error need to add a lowercase letter to your password";
                lowerError.style.color = "red";
                lowercorrect.textContent = "";
                hasError = true;
            }



        }//end of lowercase


        // change background color to light pink if one or more fields are wrong 

        // If all fields are success make success appear on the screen


        //function DisplayOutput(name, password, studentid, semester, year) {
        //    // >> Output to the div with the id "output"
        //    var output = document.getElementById("output");
        //    output.innerHTML =
        //        "Username: " + name + " <br> " +
        //        "Password: " + password + " <br> " +
        //        "StudentID: " + studentid + " <br> " +
        //        "Semester: " + semester + " <br> " +
        //        "Year: " + year + " <br> ";
        //}



</script>
    </head>
<body>
    <h1>Lab2 testing</h1>
<div id="formContainer"><!--Start of change color div-->
    <form>
        Enter your username for CSUN:<input type="text" placeholder="Username" id="Username"></input>
        <div id="inputCheckUsername1"></div>
        <div id="inputCheckUsername2"></div>
        <div id="error"></div>
        <div id="correctOutput"></div>
        </br>
        </br>
        Enter your password for CSUN:<input type="Password" placeholder="Password" id="Password"></input>
        <div id="uppercorrect"></div>
        <div id="lowercorrect"></div>
        <div id="numbercorrect"></div>
        <div id="upperError"></div>
        <div id="lowerError"></div>
        <div id="numberError"></div>
        <div id="inputCheckPasswordLength"></div>

        </br>
        </br>
        Enter your StudentID for CSUN:<input type="text" placeholder="StudentID" id="StudentID" maxlength="9"></input>
        <div id=inputCheckStudentid></div>

        <div id="studentidError"></div>
        <div id="correctStudentID"></div>
        </br>
        </br>   
        Enter your semester/year for CSUN:<input type="text" placeholder="Semester" id="semester"></input>
        <input type="text" placeholder="Year" id="year" maxlength="4"></input>
        <div id="inputCheckSemester"></div>
        <div id="correctSemester"></div>
        <div id="errorSemester"></div>

        <div id="inputCheckYear"></div>
        <div id="correctYear"></div>
        <div id="errorYear"></div>
        </br>
        </br> 

        <label for="message">Enter Message Here (Max 25 words):</label>
        </br>
        <textarea id="message" placeholder="Type your message..."></textarea>
        <div>Words left: <div id="wordCount">25</div></div>

        </br>
        </br>
        <input type="button" value="Submit" id="submitbutton" ></input>    
         


    </form>
    <h5 id="statusMessage"></h5>
    
    <!-- Added this div to show the output -->
    <div id="output" class="box"></div>

</div><!--change color div test -->
</body>

</html>